------------------------------------------------
 B5L 温度取得サンプルコード （C#版）
------------------------------------------------

（1）サンプルコード内容
  本サンプルは、B5L(3D TOFセンサモジュール)のC#による温度取得サンプルコードを提供します。

　温度取得コマンド(LED温度取得コマンド、チップ温度取得コマンド)は、
　測距中のみ実行できるコマンドであり、測距を開始せずに実行すると、F7：デバイスエラー(異常発熱)となり、
　測距を開始することができなくなります。
　(復旧する為には、電源を再投入するか、ソフトウェアリセットコマンドによりB5Lを再起動する必要があります)

  本サンプルでは、測距中に温度取得を行う為の実装例を示しており、処理の流れの概要は以下の通りです。
  処理の詳細については、ソースコード及びコード中のコメントをご参照ください。
　
　　(a)測距開始コマンドを実行します。
　　(b)イメージャ温度取得コマンド、LED温度取得コマンドを交互に実行します。
　　(c)イメージャ温度が停止基準温度(イメージャ)を超えた場合、または、LED温度が停止基準温度(LED)を超えた場合、
　　　 測距停止コマンドを実行し、B5Lを冷却します。
　　(d)一定の待ち時間後、測距開始コマンドを実行し、イメージャ温度取得コマンド、LED温度取得コマンドを実行します。
　　　 イメージャ温度が開始基準温度(イメージャ)未満の場合、かつ、LED温度が開始基準温度(LED)未満の場合、(b)に戻ります。
　　　 それ以外の場合は、測距停止コマンドを実行し、(d)の処理を繰り返します。

　　　 ※停止基準温度(イメージャ)、停止基準温度(LED)、開始基準温度(イメージャ)、開始基準温度(LED)、待ち時間は、
　　　 　サンプルコード内で設定される任意の値です。

（2）ファイル説明
  TOFSensorSampleGetTemperature/フォルダーには、次のファイルが存在します。

    bin/                                    ビルド用の出力ディレクトリ
    Properties/                             プロジェクト設定のデータ保存ディレクトリ
    FormMain.cs                             サンプルコード本体
    FormMain.Designer.cs                    フォーム画面のデザイン定義ファイル
    FormMain.resx                           フォーム画面のXMLリソースファイル
    Program.cs                              アプリケーションのメインエントリポイント。
    TOFCommand.cs                           コマンドクラス
    TOFSensorSampleGetTemperature.csproj    プロジェクトファイル。
    TOFSerialPort.cs                        シリアルポートの接続/切断/送信/受信クラス

（3）サンプルコードのビルド方法
  1.サンプルコードは、Windows 10上で動作するようにビルドされています。
     Visual Studio 2015(C#.NET)でコンパイルおよびリンクできます。
  2. exeファイルは、コンパイル後にTOFSensorSampleGetTemperature / binの下に生成されます。
     exeの実行には、.NET Framework 4.5以上が必要です。
  　 ※exeファイルの実行画面補足説明については「ExecutableFileDescription_j.pdf」を参照してください。


【使用上の注意】
* 本サンプルコードおよびドキュメントの著作権はオムロンに帰属します。
* 本サンプルコードは動作を保証するものではありません。
* 本サンプルコードは、Apache License 2.0にて提供しています。

----
オムロン株式会社
Copyright 2020 OMRON Corporation、All Rights Reserved.